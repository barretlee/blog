<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><title>JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ1ï¼‰ï¼šcookieåœ¨å‰ç«¯ | å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™</title><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,user-scalable=0"><meta name="author" content="https://plus.google.com/112634278852964994392?hl=zh-cn"><meta name="email" content="barret.china@gmail.com"><meta name="description" content="ã€€ã€€ä»¥å‰å¿ƒé‡Œæ€»æ˜¯é»˜å¿µç€è¿™å¥ï¼š\çŸ¥é“èµ„æºåœ¨å“ªå„¿å°±æ˜¯æˆåŠŸçš„ä¸€åŠ&#34;ã€‚å¯¹äºå¾ˆå¤šçŸ¥è¯†çš„å­¦ä¹ ï¼Œå¥½åƒä¹Ÿä¸€ç›´åœç•™åœ¨çŸ¥é“å®ƒåœ¨å“ªå„¿çš„åœ°æ­¥ï¼Œçœ‹æ¥ç°åœ¨éœ€è¦æœ‰æ‰€æ”¹å˜äº†ï¼ã€€ã€€é‚£å°±ä»cookieå¼€å§‹å§~ã€€ã€€Cookieï¼ˆå¤æ•°å½¢æ€Cookiesï¼‰ï¼Œä¸­æ–‡åç§°ä¸ºå°å‹æ–‡æœ¬æ–‡ä»¶æˆ–å°ç”œé¥¼ï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€è¿›è¡Œsessionè·Ÿè¸ªè€Œå‚¨å­˜"><meta property="og:type" content="article"><meta property="og:title" content="JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ1ï¼‰ï¼šcookieåœ¨å‰ç«¯ | å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™"><meta property="og:url" content="https://www.barretlee.com/blog/2013/03/27/cb-javascript-cookie/"><meta property="og:site_name" content="JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ1ï¼‰ï¼šcookieåœ¨å‰ç«¯"><meta property="og:description" content="ã€€ã€€ä»¥å‰å¿ƒé‡Œæ€»æ˜¯é»˜å¿µç€è¿™å¥ï¼š\çŸ¥é“èµ„æºåœ¨å“ªå„¿å°±æ˜¯æˆåŠŸçš„ä¸€åŠ&#34;ã€‚å¯¹äºå¾ˆå¤šçŸ¥è¯†çš„å­¦ä¹ ï¼Œå¥½åƒä¹Ÿä¸€ç›´åœç•™åœ¨çŸ¥é“å®ƒåœ¨å“ªå„¿çš„åœ°æ­¥ï¼Œçœ‹æ¥ç°åœ¨éœ€è¦æœ‰æ‰€æ”¹å˜äº†ï¼ã€€ã€€é‚£å°±ä»cookieå¼€å§‹å§~ã€€ã€€Cookieï¼ˆå¤æ•°å½¢æ€Cookiesï¼‰ï¼Œä¸­æ–‡åç§°ä¸ºå°å‹æ–‡æœ¬æ–‡ä»¶æˆ–å°ç”œé¥¼ï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€è¿›è¡Œsessionè·Ÿè¸ªè€Œå‚¨å­˜"><meta name="generator" content="https://hexo.io"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link href="https://img.alicdn.com/imgextra/i4/O1CN01LKRotr20M1ZGJkT3v_!!6000000006834-2-tps-1200-1200.png" rel="apple-touch-icon-precomposed"><link rel="shoticon" href="https://img.alicdn.com/imgextra/i3/O1CN01EVx62B1eyZLyJsJnY_!!6000000003940-2-tps-100-100.png" type="image/x-icon"><link rel="alternate" type="application/rss+xml" href="https://www.barretlee.com/rss2.xml" title="å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™"><link rel="prev" href="https://www.barretlee.com/blog/2013/03/28/cb-javascript-userdata-and-localstorage/" title="JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ2ï¼‰ï¼šuserDataå’ŒlocalStorage"><link rel="next" href="https://www.barretlee.com/blog/2013/03/27/%E6%B1%A4%E5%A7%86%E5%A4%A7%E5%8F%94%E7%9A%84JS%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%EF%BC%8C%E6%94%BE%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%AE%B6%E9%87%8C%E5%A5%BD%E6%89%BE/" title="æ±¤å§†å¤§å”çš„JSç³»åˆ—æ–‡ç« ï¼Œæ”¾åœ¨è‡ªå·±å®¶é‡Œå¥½æ‰¾"><link rel="start" href="https://www.barretlee.com/entry/" title="Blog Entry"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/barretlee/blog@gh-pages/public/css/style-20230627-2.css"></head><body><div class="rainbow"></div><div class="container"><span class="local-search local-search-google local-search-plugin" style="display:none"><input type="search" placeholder="ç«™å†…æœç´¢" id="local-search-input" class="local-search-input-cls"> <i class="icon" aria-hidden="true" title="ç‚¹å‡»è¿›å…¥ Google æœç´¢">&#x2708;</i><div id="local-search-result" class="local-search-result-cls"></div></span><div class="article" itemscope itemtype="http://schema.org/Article"><div class="post"><div class="bread"><a href="/">å°èƒ¡å­å“¥çš„ä¸ªäººç½‘ç«™</a> Â» <a href="/entry/">åšå®¢</a> Â» <a class="category-link" href="/blog/categories/JavaScript/">JavaScript</a>,<a class="category-link" href="/blog/categories/JavaScript/%E6%9D%82%E7%89%A9%E9%97%B4/">æ‚ç‰©é—´</a></div><div class="post-title-wrapper"><h1 class="post-title" itemprop="name">JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ1ï¼‰ï¼šcookieåœ¨å‰ç«¯</h1><a href="/about/"><img style="max-width:120px" src="https://img.alicdn.com/imgextra/i1/O1CN01zmj6R326ehPa0NZO2_!!6000000007687-2-tps-1200-1200.png" alt="Barretæé–"></a></div><div class="post-info"><span>ä½œè€…: <a href="/about/">Barretæé–</a></span> <span><time itemprop="timeCreated" aria-hidden="true">2013-03-27 12:13:00</time> <span class="aria-readonly">æœ¬æ–‡å‘å¸ƒæ—¶é—´ä¸º2013å¹´03æœˆ27æ—¥12æ—¶13åˆ†00ç§’</span> </span><span>åˆ†ç±»: <a class="category-link" href="/blog/categories/JavaScript/">JavaScript</a>,<a class="category-link" href="/blog/categories/JavaScript/%E6%9D%82%E7%89%A9%E9%97%B4/">æ‚ç‰©é—´</a> </span><span tabindex="0" aria-hidden="true">æ ‡ç­¾: <a class="article-tag-none-link" href="/blog/tags/cnblogs/" rel="tag">cnblogs</a>, <a class="article-tag-none-link" href="/blog/tags/tech/" rel="tag">tech</a> </span><span class="aria-readonly">ä¸‹é¢æ˜¯æ­£æ–‡å†…å®¹</span> <span tabindex="0" aria-hidden="true">è¯„è®ºæ•°: <a href="#comments" class="ds-thread-count hash-to-comments disqus-comment-count" data-thread-key="cb-javascript-cookie" data-disqus-identifier="cb-javascript-cookie"></a></span></div><div class="post-content" itemprop="articleBody"><style>.tbArg td{padding:2px}.tbArg tr:nth-child(2n){background:#eee}.tbArg tr:first{font-size:16px}</style><p>ã€€ã€€ä»¥å‰å¿ƒé‡Œæ€»æ˜¯é»˜å¿µç€è¿™å¥ï¼š\çŸ¥é“èµ„æºåœ¨å“ªå„¿å°±æ˜¯æˆåŠŸçš„ä¸€åŠ"ã€‚å¯¹äºå¾ˆå¤šçŸ¥è¯†çš„å­¦ä¹ ï¼Œå¥½åƒä¹Ÿä¸€ç›´åœç•™åœ¨çŸ¥é“å®ƒåœ¨å“ªå„¿çš„åœ°æ­¥ï¼Œçœ‹æ¥ç°åœ¨éœ€è¦æœ‰æ‰€æ”¹å˜äº†ï¼</p><p>ã€€ã€€<strong>é‚£å°±ä»cookieå¼€å§‹å§~</strong></p><blockquote><p>ã€€ã€€<strong>Cookie</strong><span>ï¼ˆå¤æ•°å½¢æ€Cookiesï¼‰ï¼Œä¸­æ–‡åç§°ä¸º</span><strong>å°å‹æ–‡æœ¬æ–‡ä»¶</strong><span>æˆ–</span><strong>å°ç”œé¥¼</strong><sup id="cite_ref-1" class="reference"></sup><span>ï¼ŒæŒ‡æŸäº›</span>ç½‘ç«™<span>ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€<span>è¿›è¡Œsessionè·Ÿè¸ª</span>è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ï¼ˆClient Sideï¼‰ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡</span>åŠ å¯†<span>ï¼‰ã€‚å®šä¹‰äºRFC2109ï¼ˆå·²åºŸå¼ƒï¼‰ï¼Œæœ€æ–°å–ä»£çš„è§„èŒƒæ˜¯<a title="rfc2965.txt"  target="_blank" href="http://www.ietf.org/rfc/rfc2965.txt" target="_blank">RFC2965</a>ã€‚</span></p></blockquote><h3>Clasification [åˆ†ç±»]</h3><p>ã€€ã€€è¯´åˆ°åº•ï¼Œcookieå°±æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ä¸€æ®µ<strong>å­—ç¬¦ä¸²</strong>ï¼ˆæ³¨æ„ï¼šä¸æ˜¯æ•°ç»„ï¼‰ã€‚</p><p>ã€€ã€€cookieå¯ä»¥æ‰‹åŠ¨è®¾ç½®ï¼Œä¹Ÿå¯ä»¥ç”±æœåŠ¡å™¨äº§ç”Ÿï¼Œå½“å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šåé¦ˆä¸€äº›ä¿¡æ¯ç»™å®¢æˆ·ç«¯ï¼Œè¿™äº›ä¿¡æ¯çš„key/valueå€¼è¢«æµè§ˆå™¨ä½œä¸ºæ–‡ä»¶ä¿å­˜åœ¨å®¢æˆ·ç«¯ç‰¹å®šçš„æ–‡ä»¶å¤¹ä¸­ã€‚</p><p>ã€€ã€€<strong>1.å†…å­˜Cookie</strong></p><p>ã€€ã€€ã€€ã€€<span>å†…å­˜Cookieç”±</span>æµè§ˆå™¨<span>ç»´æŠ¤ï¼Œä¿å­˜åœ¨</span>å†…å­˜<span>ä¸­ï¼Œæµè§ˆå™¨å…³é—­åå°±æ¶ˆå¤±äº†ï¼Œå…¶å­˜åœ¨æ—¶é—´æ˜¯çŸ­æš‚çš„ã€‚</span></p><p><span>ã€€ã€€<strong>2.ç£ç›˜Cookie</strong></span></p><p>&nbsp;ã€€ã€€ã€€&nbsp;<span>ç¡¬ç›˜Cookieä¿å­˜åœ¨</span>ç¡¬ç›˜<span>é‡Œï¼Œæœ‰ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œé™¤éç”¨æˆ·æ‰‹å·¥æ¸…ç†æˆ–åˆ°äº†è¿‡æœŸæ—¶é—´ï¼Œç¡¬ç›˜Cookieä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶å­˜åœ¨æ—¶é—´æ˜¯é•¿æœŸçš„ã€‚</span></p><h3>Arguments [å‚æ•°]</h3><table class="tbarg" border="1" cellspacing="5" cellpadding="5"><caption>&nbsp;</caption><tbody><tr><td width="120"><span><strong>å±&nbsp; æ€§&nbsp; å</strong></span></td><td><span><strong>æ&nbsp;&nbsp;&nbsp; è¿°</strong></span></td></tr><tr><td><span>String name</span></td><td><span>è¯¥Cookieçš„åç§°ã€‚Cookieä¸€æ—¦åˆ›å»ºï¼Œåç§°ä¾¿ä¸å¯æ›´æ”¹</span></td></tr><tr><td><span>Object value</span></td><td><span>è¯¥Cookieçš„å€¼ã€‚å¦‚æœå€¼ä¸ºUnicodeå­—ç¬¦ï¼Œéœ€è¦ä¸ºå­—ç¬¦ç¼–ç ã€‚å¦‚æœå€¼ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨BASE64ç¼–ç </span></td></tr><tr><td><span>int maxAge</span></td><td><span>è¯¥Cookieå¤±æ•ˆçš„æ—¶é—´ï¼Œå•ä½ç§’ã€‚å¦‚æœä¸ºæ­£æ•°ï¼Œåˆ™è¯¥Cookieåœ¨maxAgeç§’ä¹‹åå¤±æ•ˆã€‚å¦‚æœä¸ºè´Ÿæ•°ï¼Œè¯¥Cookieä¸ºä¸´æ—¶Cookieï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šä»¥ä»»ä½•å½¢å¼ä¿å­˜è¯¥Cookieã€‚å¦‚æœä¸º0ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥Cookieã€‚é»˜è®¤ä¸ºâ€“1</span></td></tr><tr><td><span>boolean secure</span></td><td><span>è¯¥Cookieæ˜¯å¦ä»…è¢«ä½¿ç”¨å®‰å…¨åè®®ä¼ è¾“ã€‚å®‰å…¨åè®®ã€‚å®‰å…¨åè®®æœ‰HTTPSï¼ŒSSLç­‰ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ä¹‹å‰å…ˆå°†æ•°æ®åŠ å¯†ã€‚é»˜è®¤ä¸ºfalse</span></td></tr><tr><td><span>String path</span></td><td><span>è¯¥Cookieçš„ä½¿ç”¨è·¯å¾„ã€‚å¦‚æœè®¾ç½®ä¸º\/sessionWeb/"ï¼Œåˆ™åªæœ‰contextPathä¸º\/sessionWeb"çš„ç¨‹åºå¯ä»¥è®¿é—®è¯¥Cookieã€‚å¦‚æœè®¾ç½®ä¸º\/"ï¼Œåˆ™æœ¬åŸŸåä¸‹contextPathéƒ½å¯ä»¥è®¿é—®è¯¥Cookieã€‚æ³¨æ„æœ€åä¸€ä¸ªå­—ç¬¦å¿…é¡»ä¸º\/"</span></td></tr><tr><td><span>String domain</span></td><td><span>å¯ä»¥è®¿é—®è¯¥Cookieçš„åŸŸåã€‚å¦‚æœè®¾ç½®ä¸º\.google.com"ï¼Œåˆ™æ‰€æœ‰ä»¥\google.com"ç»“å°¾çš„åŸŸåéƒ½å¯ä»¥è®¿é—®è¯¥Cookieã€‚æ³¨æ„ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»ä¸º\."</span></td></tr><tr><td><span>String comment</span></td><td><span>è¯¥Cookieçš„ç”¨å¤„è¯´æ˜ã€‚æµè§ˆå™¨æ˜¾ç¤ºCookieä¿¡æ¯çš„æ—¶å€™æ˜¾ç¤ºè¯¥è¯´æ˜</span></td></tr><tr><td><span>int version</span></td><td><span>è¯¥Cookieä½¿ç”¨çš„ç‰ˆæœ¬å·ã€‚0è¡¨ç¤ºéµå¾ªNetscapeçš„Cookieè§„èŒƒï¼Œ1è¡¨ç¤ºéµå¾ªW3Cçš„RFC 2109è§„èŒƒ</span></td></tr></tbody></table><h3>Detail [å‚æ•°è¯¦è§£]</h3><p>ã€€ã€€<strong>1ã€‚key/value</strong></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie  = <span class="comment">&#x27;username=æœ¨å­Vsç«‹é’&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€å¾ˆç®€å•å§ï¼Œcookieæ˜¯documentçš„ä¸€ä¸ªå±æ€§ï¼Œåœ¨æ§åˆ¶å°ï¼Œconsole.log(document.cookie)å¯ä»¥çœ‹åˆ°è¯¥åŸŸåä¸‹çš„cookieå€¼ã€‚è®¾ç½®æ–¹å¼å°±æ˜¯<strong>key=value</strong>.</p><p>ã€€ã€€å¦‚ä½•å·²ç»å­˜åœ¨äº†usernameè¿™ä¸ªkeyï¼Œå†æ¬¡å¦‚ä¸Šæ“ä½œå°±æ˜¯ä¿®æ”¹valueå€¼äº†ã€‚</p><p>ã€€ã€€<strong>2.maxAge</strong></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>var date = <span class="keyword">new</span> Date();</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="symbol">3 </span>date.setDate(date.getDate()+<span class="number">30</span>);</span><br><span class="line"><span class="symbol">4 </span>date.toGMTString();</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="symbol">6 </span>document.cookie = <span class="string">&quot;name=value;expires=date&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€expiresè¿™ä¸ªå‚æ•°æ˜¯ç”¨æ¥è®¾ç½®cookieæœ‰æ•ˆæœŸçš„ï¼Œå¦‚æœå°†expiresè®¾ç½®æˆä¸€ä¸ªè¿‡å»çš„æ—¶é—´ï¼ˆç›¸å¯¹æœ¬æœºç³»ç»Ÿæ—¶é—´ï¼‰ï¼Œç›¸åº”çš„cookieå°±è¢«åˆ é™¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¥åˆ é™¤cookie~</p><p>ã€€ã€€ä¸Šé¢ç»™å‡ºçš„ä¾‹å­æ˜¯ä»¥å¤©ä¸ºå•ä½è®¡ç®—çš„ï¼Œå¦‚æœè¦æ”¹æˆå…¶ä»–çš„è®¡æ—¶æ–¹å¼ï¼Œå¯ä»¥ä¿®æ”¹ç¬¬ä¸‰è¡Œdate.setDate(date.getDate()+30)ï¼Œä¸º30å¤©ã€‚æ¯”å¦‚è¦æ”¹æˆæŒ‰å°æ—¶è®¡ç®—ï¼šdate.setHours(date.getHours()+30)ï¼Œä¸º30å°æ—¶ã€‚</p><p>ã€€ã€€<strong>3.path</strong></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie = <span class="string">&quot;name=value;expires=date;path=path&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>&nbsp;ã€€ã€€è¿™é‡Œçš„pathå¦‚ä½•ç†è§£ï¼Ÿæ¯”å¦‚åœ¨http://www.cnblogs.com/hustskyking/ä¸‹åˆ›å»ºä¸€ä¸ªcookieï¼ˆå³path=/hustskyking/ï¼‰ï¼Œé‚£ä¹ˆåœ¨http://www.cnblogs.com/hustskyking/ä¸‹æ‰€æœ‰å­ç›®å½•éƒ½æ˜¯å¯ä»¥è®¿é—®è¿™ä¸ªcookieçš„ï¼›å†æ¯”å¦‚path=/ï¼Œæ„æ€å°±æ˜¯åœ¨http://www.cnblogs.com/ä¸‹çš„ä»»ä½•å­ç›®å½•éƒ½æ˜¯è®¿é—®åˆ°è¿™ä¸ªcookieçš„ã€‚</p><p>ã€€ã€€<strong>4.domain</strong></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie = <span class="string">&quot;name=value;path=path;expires=date;domain=domain&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€è¿™é‡Œè¦è¯´çš„æ˜¯åŒåŸŸè®¿é—®ï¼Œæ¯”å¦‚åœ¨a.example.comå’Œb.example.comä¸‹å…±äº«c.example.comä¸‹çš„cookieæ–‡ä»¶ï¼Œåªéœ€å¦‚æ­¤è¿™èˆ¬...</p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie = <span class="string">&quot;name=value;path=path;expires=date;domain=example.com&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€ä½ åº”è¯¥æ‡‚äº†~</p><p>ã€€ã€€<strong>5.secure</strong></p><p>&nbsp;ã€€ã€€æˆ‘ä»¬çŸ¥é“åœ¨ç½‘ç»œä¸­å»ºç«‹è¿æ¥ä¼ è¾“æ•°æ®æœ‰ä¸¤ç§å¸¸è§çš„æ–¹å¼ï¼Œä¸€ä¸ªé’Ÿæ˜¯httpï¼Œå¦ä¸€ç§æ˜¯httpsï¼Œåè€…æ˜¯åŠ å¯†ä¼ è¾“ã€‚å¤§å®¶ä»ä¸Šé¢ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œcookieå¾ˆå®¹æ˜“è¢«çªƒå–ï¼Œé€šè¿‡ä¸‹é¢è¿™ä¸ªæ–¹å¼å¯ä»¥ä¸ºcookieåŠ ä¸€æŠŠå®‰å…¨é”ã€‚</p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie = <span class="string">&quot;username=æœ¨å­Vsç«‹é’;secure&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€åŠ äº†secureï¼ˆé»˜è®¤å€¼ä¸ºç©ºï¼‰ï¼Œä¹‹åï¼Œcookieæäº¤åˆ°æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„æ˜¯httpsä¼ è¾“ã€‚å½“ç„¶è¿™åªæ˜¯åŠ äº†ä¸€å±‚é˜²æŠ¤ï¼Œä¸ç­‰äºæˆ‘çˆ±ç½—çš„ç»å¯¹é˜²å¾¡~</p><h3>Attention [æ³¨æ„äº‹é¡¹]</h3><p>ã€€ã€€<strong>1.valueå€¼ä¿æŠ¤</strong></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>document.cookie = <span class="keyword">name</span> + <span class="string">&quot;=&quot;</span>+ escape (value);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ã€€ã€€æˆ‘ä»¬é€šå¸¸ä¼šç”¨escapeå°†valueè¿›è¡Œç¼–ç ï¼Œå–å›çš„æ—¶å€™ç”¨unescape()å‡½æ•°å°±è¡Œäº†ã€‚</p><p>ã€€ã€€<strong>2.é‡è¦ä¿¡æ¯å°±ä¸è¦æ”¾åˆ°cookieå€¼ä¸­äº†~</strong></p><h3>Class [å°è£…cookieæ–¹æ³•çš„ç±»]</h3><p><span>ã€€ã€€<strong>1ã€åˆ›å»ºCookieå¯¹è±¡</strong></span></p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">1 </span>//å› ä¸ºæ˜¯ä½œä¸ºç±»åæˆ–è€…å‘½åç©ºé—´çš„ä½¿ç”¨ï¼Œæ‰€ä»¥å’ŒMathå¯¹è±¡ç±»ä¼¼ï¼Œè¿™é‡Œä½¿ç”¨Cookieæ¥è¡¨ç¤ºè¯¥å¯¹è±¡</span><br><span class="line"><span class="symbol">2 </span>var Cookie = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ã€€ã€€2ã€å®ç°è®¾ç½®Cookieçš„æ–¹æ³•</strong></p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"> <span class="number">1</span> //<span class="type">name</span>æ˜¯è¦è®¾ç½®cookieçš„åç§°ï¼›<span class="keyword">value</span>æ˜¯è®¾ç½®cookieçš„å€¼ï¼Œ<span class="keyword">option</span>åŒ…æ‹¬äº†å…¶å®ƒé€‰é¡¹ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°</span><br><span class="line"> <span class="number">2</span> Cookie.setCookie = <span class="keyword">function</span>(<span class="type">name</span>, <span class="keyword">value</span>, <span class="keyword">option</span>) &#123;</span><br><span class="line"> <span class="number">3</span>   //ç”¨äºå­˜å‚¨èµ‹å€¼ç»™document.cookieçš„cookieæ ¼å¼å­—ç¬¦ä¸²</span><br><span class="line"> <span class="number">4</span>   var str = <span class="type">name</span>+&quot;=&quot;+<span class="keyword">escape</span>(<span class="keyword">value</span>);</span><br><span class="line"> <span class="number">5</span>   <span class="keyword">if</span>(<span class="keyword">option</span>) &#123;</span><br><span class="line"> <span class="number">6</span>     //å¦‚æœè®¾ç½®äº†è¿‡æœŸæ—¶é—´</span><br><span class="line"> <span class="number">7</span>      <span class="keyword">if</span>(<span class="keyword">option</span>.expireDays) &#123;</span><br><span class="line"> <span class="number">8</span>       var <span class="type">date</span> = <span class="built_in">new</span> <span class="type">date</span>();</span><br><span class="line"> <span class="number">9</span>       var ms = <span class="keyword">option</span>.expireDays*<span class="number">24</span>*<span class="number">3600</span>*<span class="number">1000</span>;</span><br><span class="line"><span class="number">10</span>       <span class="type">date</span>.setTime(<span class="type">date</span>.getTime()+ms);</span><br><span class="line"><span class="number">11</span>       str += &quot;; expires=&quot;+<span class="type">date</span>.toGMTString();</span><br><span class="line"><span class="number">12</span>     &#125;</span><br><span class="line"><span class="number">13</span>     <span class="keyword">if</span>(<span class="keyword">option</span>.path) str += &quot;; path=&quot;+<span class="type">path</span>;//è®¾ç½®è®¿é—®è·¯å¾„</span><br><span class="line"><span class="number">14</span>      <span class="keyword">if</span>(<span class="keyword">option</span>.<span class="keyword">domain</span>) str += &quot;; domain=&quot;+<span class="keyword">domain</span>;//è®¾ç½®è®¿é—®ä¸»æœº</span><br><span class="line"><span class="number">15</span>      <span class="keyword">if</span>(<span class="keyword">option</span>.secure) str += &quot;; true&quot;;//è®¾ç½®å®‰å…¨æ€§</span><br><span class="line"><span class="number">16</span>   &#125;</span><br><span class="line"><span class="number">17</span>   document.cookie = str;</span><br><span class="line"><span class="number">18</span> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong><span>ã€€ã€€3ã€å®ç°å–Cookieçš„æ–¹æ³•</span></strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> <span class="number">1</span> <span class="comment">//nameæ˜¯æŒ‡å®šcookieçš„åç§°ï¼Œä»è€Œæ ¹æ®åç§°è¿”å›ç›¸åº”çš„å€¼</span></span><br><span class="line"> <span class="number">2</span> <span class="title class_">Cookie</span>.<span class="property">getCookie</span> = <span class="keyword">function</span>(<span class="params">name</span>) &#123;</span><br><span class="line"> <span class="number">3</span>   <span class="keyword">var</span> cookieArray = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">split</span>(<span class="string">&quot;; &quot;</span>);<span class="comment">//å¾—åˆ°åˆ†å‰²çš„cookieåå€¼å¯¹</span></span><br><span class="line"> <span class="number">4</span>   <span class="keyword">var</span> cookie = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"> <span class="number">5</span>   <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i</span><br><span class="line">&lt;p&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ã€€ã€€4ã€å®ç°åˆ é™¤Cookieçš„æ–¹æ³•<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span>&lt;/p&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>1 &#x2F;&#x2F;nameæ˜¯æŒ‡å®šcookieçš„åç§°ï¼Œä»è€Œæ ¹æ®è¿™ä¸ªåç§°åˆ é™¤ç›¸åº”çš„cookieã€‚åœ¨å®ç°ä¸­ï¼Œåˆ é™¤cookieæ˜¯é€šè¿‡è°ƒç”¨setCookieæ¥å®Œæˆçš„ï¼Œå°†optionçš„expireDayså±æ€§æŒ‡å®šä¸ºè´Ÿæ•°å³å¯<br>2 Cookie.deleteCookie &#x3D; function(name) {<br>3 this.setCookie(name, â€œâ€, {expireDays:-1});&#x2F;&#x2F;å°†è¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºè¿‡å»æ¥åˆ é™¤ä¸€ä¸ªcookie<br>4 }<br>5 &#x2F;&#x2F;é€šè¿‡ä¸‹é¢çš„ä»£ç ï¼Œæ•´ä¸ªCookieå¯¹è±¡åˆ›å»ºå®Œæ¯•åï¼Œå¯ä»¥å°†å…¶æ”¾åˆ°ä¸€ä¸ªå¤§æ‹¬å·ä¸­æ¥å®šä¹‰ï¼š<br>6 var Cookie &#x3D; {<br>7 setCookie:function(){},<br>8 getCookie:function(){},<br>9 deleteCookie:function(){}<br>10 }<br>11<br>12 &#x2F;&#x2F;é€šè¿‡è¿™ç§å½¢å¼ï¼Œå¯ä»¥è®©Cookieçš„åŠŸèƒ½æ›´åŠ æ¸…æ™°ï¼Œå®ƒä½œä¸ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå¤§å¤§æ–¹ä¾¿äº†å¯¹Cookieçš„æ“ä½œ<br>13 Cookie.setCookie(â€œuserâ€, â€œterryâ€);<br>14 Cookie.deleteCookie(â€œuserâ€);</p><pre><code>


&lt;h3&gt;Substitution [cookieçš„æ›¿ä»£å“]&lt;/h3&gt;
&lt;p&gt;ã€€ã€€&lt;span&gt;cookie æ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œæ¯ä¸ª cookie æ‰€å­˜æ”¾çš„æ•°æ®ä¸èƒ½è¶…è¿‡4kbï¼Œå¦‚æœ cookie å­—ç¬¦ä¸²çš„é•¿åº¦è¶…è¿‡4kbï¼Œåˆ™è¯¥å±æ€§å°†è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ã€€ã€€å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å®¢æˆ·ç«¯å‚¨å­˜æ¯”è¾ƒå¤§å®¹é‡çš„æ•°æ®ï¼Œæ€ä¹ˆåŠï¼Ÿé€‰æ‹©cookieè‚¯å®šæ˜¯ä¸æ˜æ™ºçš„ï¼Œä¸‹æ¬¡ä¼šç»™å¤§å®¶è¯¦ç»†è¯´æ˜userDataå’ŒlocalStorageã€‚&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€&lt;a title=&quot;MSDN userData&quot; href=&quot;http://msdn.microsoft.com/zh-cn/vstudio/ms531424&quot; target=&quot;_blank&quot;&gt;userData&lt;/a&gt;(windows+IEå¹³å°):&amp;nbsp;&lt;strong&gt;128Kb&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€€ã€€&lt;/strong&gt;&lt;a title=&quot;wiki localStorage&quot; href=&quot;http://en.wikipedia.org/wiki/Web_storage&quot; target=&quot;_blank&quot;&gt;localStorage&lt;/a&gt;(ç°ä»£æµè§ˆå™¨):&amp;nbsp;&lt;strong&gt;&amp;nbsp;5M&lt;/strong&gt;&lt;/p&gt;


&lt;h3&gt;&lt;span&gt;&amp;nbsp;Related blog [ç›¸å…³åšæ–‡]&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;span&gt;ã€€ã€€&lt;a class=&quot;titlelink&quot; href=&quot;http://www.cnblogs.com/hustskyking/archive/2013/03/28/javascript-userdata-and-localstorage.html&quot;&gt;JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ2ï¼‰ï¼šuserDataå’ŒlocalStorage&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span&gt;ã€€ã€€&lt;a class=&quot;titlelink&quot; href=&quot;http://www.cnblogs.com/hustskyking/archive/2013/03/30/javascript-applicationcache.html&quot;&gt;Javascriptæœ¬åœ°å‚¨å­˜ï¼ˆ3ï¼‰ï¼šç¦»çº¿webåº”ç”¨&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;


&lt;h3&gt;Reference [å‚è€ƒèµ„æ–™]&lt;/h3&gt;
&lt;p&gt;ã€€ã€€1.&lt;a title=&quot;ç™¾åº¦æ–‡åº“cookie&quot; href=&quot;http://baike.baidu.com/view/835.htm&quot; target=&quot;_blank&quot;&gt;ç™¾åº¦æ–‡åº“&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€2.&lt;a title=&quot;wiki cookie&quot; href=&quot;http://zh.wikipedia.org/wiki/Cookie&quot; target=&quot;_blank&quot;&gt;wiki&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ã€€ã€€3.&lt;a title=&quot;è‚å¾®ä¸œåšå®¢ jsæ“ä½œcookie&quot; href=&quot;http://www.cnblogs.com/Darren_code/archive/2011/11/24/Cookie.html&quot; target=&quot;_blank&quot;&gt;è‚å¾®ä¸œåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€€ã€€&lt;/strong&gt;4.&lt;a title=&quot;alixixi&quot; href=&quot;http://www.alixixi.com/web/a/2008050746872.shtml&quot; target=&quot;_blank&quot;&gt;alixixi&lt;/a&gt;&lt;/p&gt;
</code></pre></div></div><div class="old-article-warning">æœ¬æ–‡åœ¨ <b>4497</b> å¤©ä¹‹å‰å‘è¡¨ï¼ŒæŠ€æœ¯æ›´æ›¿é£å¿«ï¼Œæ–‡ä¸­éƒ¨åˆ†å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»ä½œè€… <a href="/about">Barretæé–</a>ã€‚</div><div class="copyright" itemscope itemtype="http://schema.org/ProfilePage" tabindex="0" aria-hidden="true"><ul><li>ä½œè€…: <a href="/about/" itemprop="name">Barretæé–</a></li><li>æ–‡ç« åˆ†ç±»: <a class="category-link" href="/blog/categories/JavaScript/">JavaScript</a>,<a class="category-link" href="/blog/categories/JavaScript/%E6%9D%82%E7%89%A9%E9%97%B4/">æ‚ç‰©é—´</a></li><li>æ–‡ç« æ ‡ç­¾: <a class="article-tag-none-link" href="/blog/tags/cnblogs/" rel="tag">cnblogs</a>, <a class="article-tag-none-link" href="/blog/tags/tech/" rel="tag">tech</a></li><li>å‘è¡¨æ—¥æœŸ: 2013-03-27 12:13:00</li><li>æœ€åç¼–è¾‘æ—¶é—´: 2025-07-19 11:01:03</li><li>æœ¬æ–‡ Markdown åœ°å€: <a target="_
			" href="https://github.com/barretlee/blog/tree/master/blog/src/_posts/2013-03-27-cb-javascript-cookie.md">JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ1ï¼‰ï¼šcookieåœ¨å‰ç«¯</a></li><li>ç‰ˆæƒå£°æ˜ï¼š<a  target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">CC BY-NC-ND 3.0</a></li><li>Feed è®¢é˜…: <a href="/rss2.xml"><i class="icon">&#x25c8;</i></a><div style="opacity:.3;text-align:right;margin:5px -5px -10px 0;float:right;font-size:12px">ç¼–è¾‘æœ¬æ–‡ï¼š<a  target="_blank" href="https://github.com/barretlee/blog/edit/master/blog/src/_posts/2013-03-27-cb-javascript-cookie.md" target="_blank" aria-hidden="true"><i class="icon">&#xe622;</i></a>ï¼› æ–°å»ºæ–‡ç« ï¼š<a  target="_blank" href="https://github.com/barretlee/blog/new/master/blog/src/_posts" target="_blank" aria-hidden="true"><i class="icon">&#xe616;</i></a></div></li></ul><a href="/about/"><img style="max-width:120px" src="https://img.alicdn.com/imgextra/i3/O1CN01tDYnfz23AWT1ag79p_!!6000000007215-2-tps-1200-1200.png"></a></div><em class="arrow-expend" tabindex="0" aria-hidden="0" aria-label="ç‚¹å‡»å±•å¼€ç½‘é¡µå¯¼èˆª" aria-selected="true" aria-lable="ç½‘é¡µå¯¼èˆª" aria-expanded="false" id="i1">â–¾<ul role="group" aria-labelledby="i1" aria-expanded="false"><li><a href="/entry/">åšå®¢</a></li><li><a href="/message/">ç•™è¨€</a></li><li><a href="/demo/">å®éªŒå®¤</a></li><li><a href="/friends/">å‹æƒ…é“¾æ¥</a></li></ul></em></div><div class="post-relative"><div class="page-relative"><a href="/blog/2013/03/28/cb-javascript-userdata-and-localstorage/" class="post-prev"><i class="icon" tabindex="0" aria-hidden="true">&#x261c;</i> <span class="aria-readonly">ä¸Šä¸€ç¯‡æ–‡ç« </span> <b>JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ2ï¼‰ï¼šuserDataå’ŒlocalStorage</b> </a><a href="/blog/2013/03/27/%E6%B1%A4%E5%A7%86%E5%A4%A7%E5%8F%94%E7%9A%84JS%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%EF%BC%8C%E6%94%BE%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%AE%B6%E9%87%8C%E5%A5%BD%E6%89%BE/" class="post-next"><span class="aria-readonly">ä¸‹ä¸€ç¯‡æ–‡ç« </span> <b>æ±¤å§†å¤§å”çš„JSç³»åˆ—æ–‡ç« ï¼Œæ”¾åœ¨è‡ªå·±å®¶é‡Œå¥½æ‰¾</b> <i class="icon" tabindex="0" aria-hidden="true">&#xe602;</i></a></div><div class="page-relative-fixed" tabindex="0" aria-hidden="true"><a href="/blog/2013/03/28/cb-javascript-userdata-and-localstorage/" class="prev" title="JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ2ï¼‰ï¼šuserDataå’ŒlocalStorage"><i class="icon">&#xe600;</i> <b>JavaScriptæœ¬åœ°å‚¨å­˜ï¼ˆ2ï¼‰ï¼šuserDataå’ŒlocalStorage</b> </a><a href="/blog/2013/03/27/%E6%B1%A4%E5%A7%86%E5%A4%A7%E5%8F%94%E7%9A%84JS%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%EF%BC%8C%E6%94%BE%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%AE%B6%E9%87%8C%E5%A5%BD%E6%89%BE/" class="next" title="æ±¤å§†å¤§å”çš„JSç³»åˆ—æ–‡ç« ï¼Œæ”¾åœ¨è‡ªå·±å®¶é‡Œå¥½æ‰¾"><i class="icon">&#x261e;</i> <b>æ±¤å§†å¤§å”çš„JSç³»åˆ—æ–‡ç« ï¼Œæ”¾åœ¨è‡ªå·±å®¶é‡Œå¥½æ‰¾</b></a></div></div></div><div class="sidebar" tabindex="0" aria-hidden="true"><div class="func-btns func-btns-up"><span class="func-item"><i class="func-nav icon">&#xe618;<span>ç›®å½•</span></i><div><i class="left-arrow"></i><i class="left-arrow-clone"></i> <a href="javascript:void(0);" onclick="return!1">æ˜¾ç¤ºç›®å½•</a></div></span><span class="func-item"><i class="func-font icon">&#xe604;<span>å¤œé—´</span></i><div class="font-choose-box"><i class="left-arrow"></i><i class="left-arrow-clone"></i><div class="font-choose bg-choose"><a href="javascript:void(0)" onclick="return!1" class="bg-type bg-type-sun font-type-song"><i class="icon">&#xe61a;</i></a> <a href="javascript:void(0)" onclick="return!1" class="bg-type bg-type-moon font-type-hei"><i class="icon">&#xe619;</i></a></div></div></span><span class="func-item"><i class="func-about icon">&#x263b;<span>å…³äº</span></i><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><p><a href="/about/" class="func-about-link" target="_blank">å…³äºä½œè€…</a></p><div id="followMeOnWeibo"></div></div></span></div><div class="func-btns"><span class="func-item"><a href="/friends/" target="_blank"><i class="func-rss icon">&#xe601;<span>é“¾æ¥</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i> <a href="/friends/" target="_blank">å‹æƒ…é“¾æ¥</a></div></span><span class="func-item"><a href="/rss2.xml" target="_blank"><i class="func-rss icon">&#x25c8;<span>è®¢é˜…</span></i></a><div><i class="left-arrow"></i><i class="left-arrow-clone"></i><a href="/rss2.xml" target="_blank">è®¢é˜…æˆ‘å§ï¼</a></div></span></div></div><div class="single-page-footer"><div class="footer"><div class="footer-wraper"><div class="footer-content"><div class="footer-nav"><a href="javascript: void(0);" class="ds-thread-count disqus-comment-count" data-thread-key="cb-javascript-cookie" data-disqus-identifier="cb-javascript-cookie" tabindex="0" aria-hidden="true">è¯„è®ºå†…å®¹</a> <a href="javascript: void(0);" id="comments">ç›¸å…³æ–‡ç« </a> <a href="/friends/" tabindex="0" aria-hidden="true" style="display:none">å‹æƒ…é“¾æ¥</a></div><div class="nav-detail"><div tabindex="0"><div id="gitalk" sid="cb-javascript-cookie"></div><script charset="utf-8" type="text/javascript" src="https://fastly.jsdelivr.net/gh/barretlee/blog@gh-pages/public/js/gitalk.js"></script><script type="text/javascript">var postContent=document.querySelectorAll(".post-content>p");postContent&&postContent.length&&(postContent=(postContent=postContent.item(0).textContent+(postContent.item(1)&&postContent.item(1).textContent||"")).length>140?postContent.slice(0,140)+"...":postContent);var gitalk=new Gitalk({clientID:"50a1b3aa7854b01a1c85",clientSecret:"226ac154f80a6aea0985da874126b35795f22eed",language:"zh-CN",perPage:100,createIssueManually:!1,repo:"blog",owner:"barretlee",admin:["barretlee"],id:"cb-javascript-cookie",body:"åŸæ–‡åœ°å€ï¼š"+location.href+"\n\næ–‡æ‘˜ï¼š"+postContent,distractionFreeMode:!1});window.addEventListener("load",(function(){gitalk.render("gitalk")}));var commentTimer=setInterval(()=>{var t=document.querySelector(".gt-link-counts"),e=document.querySelector(".hash-to-comments");t&&e&&(e.textContent=t.textContent,clearInterval(commentTimer))},500);setTimeout(()=>{clearInterval(commentTimer)},6e4)</script></div><div style="display:block"><div class="relative-wrapper"><div class="relative-article"><ul><li><span><font aria-hidden="true">2019-03-13 Â»</font> </span><a href="/blog/2019/03/13/first-buildin-module-kv-storage/">KV Storageï¼ŒWeb ä¸Šç¬¬ä¸€ä¸ªå†…ç½®æ¨¡å—</a> <span class="aria-readonly">å‘è¡¨æ—¶é—´ä¸º2019å¹´03æœˆ13æ—¥</span><div class="relative-box"><a href="/blog/2019/03/13/first-buildin-module-kv-storage/" class="relative-img-wrapper"><img src="https://raw.githubusercontent.com/barretlee/blog/gh-pages/blogimgs/2019/03/13/kv-storage-build-in-module.png" style="width:100%" loading="lazy" data-original="/../blogimgs/2019/03/13/kv-storage-build-in-module.png"></a><span class="aria-readonly">æ–‡ç« æ¦‚è¦ </span>åŸæ–‡åœ°å€ï¼šKV Storage, the Webâ€™s First Built-in ModuleåŸæ–‡æ—¶é—´ï¼š2019å¹´3æœˆç¿»è¯‘è®¡åˆ’ï¼šhttps://github.com/barretlee/translation-planç¿»è¯‘äººå‘˜ï¼šå°èƒ¡å­å“¥åœ¨...</div></li><li><span><font aria-hidden="true">2017-06-06 Â»</font> </span><a href="/blog/2017/06/06/dive-to-nodejs-at-stream-module/">æ·±å…¥ç†è§£ Node Stream å†…éƒ¨æœºåˆ¶</a> <span class="aria-readonly">å‘è¡¨æ—¶é—´ä¸º2017å¹´06æœˆ06æ—¥</span><div class="relative-box"><a href="/blog/2017/06/06/dive-to-nodejs-at-stream-module/" class="relative-img-wrapper"><img src="https://raw.githubusercontent.com/barretlee/blog/gh-pages/blogimgs/2017/06/06/node-stream-readable-flowing.png" style="width:100%" loading="lazy" data-original="/../blogimgs/2017/06/06/node-stream-readable-flowing.png"></a><span class="aria-readonly">æ–‡ç« æ¦‚è¦ </span>ç›¸ä¿¡å¾ˆå¤šäººå¯¹ Node çš„ Stream å·²ç»ä¸é™Œç”Ÿäº†ï¼Œä¸è®ºæ˜¯è¯·æ±‚æµã€å“åº”æµã€æ–‡ä»¶æµè¿˜æ˜¯ socket æµï¼Œè¿™äº›æµçš„åº•å±‚éƒ½æ˜¯ä½¿ç”¨ stream æ¨¡å—å°è£…çš„ï¼Œç”šè‡³æˆ‘ä»¬å¹³æ—¶ç”¨çš„æœ€å¤šçš„ console.log æ‰“å°æ—¥å¿—ä¹Ÿä½¿ç”¨äº†å®ƒï¼Œä¸ä¿¡ä½ æ‰“å¼€ No...</div></li><li><span><font aria-hidden="true">2016-09-28 Â»</font> </span><a href="/blog/2016/09/28/ieee754-operation-in-js/">æ­ç§˜ 0.1 + 0.2 != 0.3</a> <span class="aria-readonly">å‘è¡¨æ—¶é—´ä¸º2016å¹´09æœˆ28æ—¥</span><div class="relative-box"><a href="/blog/2016/09/28/ieee754-operation-in-js/" class="relative-img-wrapper"><img src="https://raw.githubusercontent.com/barretlee/blog/gh-pages/blogimgs/2016/09/28/6c0378f8gw1f89pd8hm96j20p00dwacm.jpg" style="width:100%" loading="lazy" data-original="/../blogimgs/2016/09/28/6c0378f8gw1f89pd8hm96j20p00dwacm.jpg"></a><span class="aria-readonly">æ–‡ç« æ¦‚è¦ </span>â€œ0.1 + 0.2 &#x3D; ?â€ï¼Œè¿™é“é¢˜å¦‚æœç»™å°å­¦ç”Ÿï¼Œä»–ä¼šç«‹é©¬å‘Šè¯‰ä½ ç­”æ¡ˆæ˜¯ 0.3ï¼Œä½†æ˜¯äº¤ç»™ä¸€äº›ç¨‹åºå»è®¡ç®—ï¼Œç»“æœå°±ä¸æ˜¯é‚£ä¹ˆç®€å•äº†ã€‚--></div></li><li><span><font aria-hidden="true">2016-08-23 Â»</font> </span><a href="/blog/2016/08/23/javascript-sandbox/">æ„å»ºä¸€ä¸ªå®‰å…¨çš„ JavaScript æ²™ç®±</a> <span class="aria-readonly">å‘è¡¨æ—¶é—´ä¸º2016å¹´08æœˆ23æ—¥</span><div class="relative-box"><a href="/blog/2016/08/23/javascript-sandbox/" class="relative-img-wrapper"><img src="https://raw.githubusercontent.com/barretlee/blog/gh-pages/blogimgs/2016/08/23/6c0378f8gw1f730uldkfrj20p00dwaf1.jpg" style="width:100%" loading="lazy" data-original="/../blogimgs/2016/08/23/6c0378f8gw1f730uldkfrj20p00dwaf1.jpg"></a><span class="aria-readonly">æ–‡ç« æ¦‚è¦ </span>-->åœ¨ Node.js ä¸­æœ‰ä¸€ä¸ªæ¨¡å—å«åš VMï¼Œå®ƒæä¾›äº†å‡ ä¸ª APIï¼Œå…è®¸ä»£ç åœ¨ V8 è™šæ‹Ÿæœºä¸Šä¸‹æ–‡ä¸­è¿è¡Œï¼Œå¦‚ï¼šconst vm = require(&#x27;vm&#x27;);const sandbox = &#123; a: 1, b: 2 &#125;;const script = new vm.Script(&#x27;a + b&#x27;);const context = new vm.createContext(sandbox);script.runInContext(context);vm.Script ä¸­çš„ä»£ç æ˜¯é¢„ç¼–è¯‘å¥½çš„ï¼Œé€šè¿‡ vm.createContext å°†ä»£ç åŠ è½½åˆ°ä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼Œç½®å…¥æ²™ç®±ï¼ˆsandboxï¼‰ï¼Œç„¶åé€šè¿‡ script.runInContext æ‰§è¡Œä»£ç ï¼Œæ•´ä¸ªæ“ä½œéƒ½åœ¨å°é—­çš„ VM ä¸­è¿›è¡Œã€‚è¿™æ˜¯ Node.js æä¾›ç»™æˆ‘ä»¬çš„ä¾¿æ·åŠŸèƒ½ï¼Œé‚£ä¹ˆï¼Œåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å‘¢ï¼Ÿæ˜¯å¦ä¹Ÿèƒ½åšåˆ°å°†ä»£ç è¿è¡Œåœ¨æ²™ç®±ä¸­ï¼Ÿæœ¬æ–‡å¸¦ç€å¤§å®¶æ¥æ¢ç´¢ä¸€ç•ªã€‚</div></li></ul></div></div><div class="relative-to-comment" tabindex="0" aria-hidden="true"><span>ç•™ä¸‹è¯„è®º</span></div></div><div class="friends-box"><ul><li><a  target="_blank" href="http://hustskyking.cnblogs.com" target="_blank">æ—§åšå®¢</a> <font aria-hidden="true">Â»</font> <span>æˆ‘çš„æ—§åšå®¢ï¼ˆåšå®¢å›­è£èª‰åšå®¢ï¼‰</span></li><li><a  target="_blank" href="http://www.zhangmengxue.com" target="_blank">å¤§é¢</a> <font aria-hidden="true">Â»</font> <span>å¤§é¢å¤§é¢å“¼æ­Œç­‰æ—¥è½</span></li><li><a  target="_blank" href="http://www.zhangxinxu.com" target="_blank">å¼ é‘«æ—­</a> <font aria-hidden="true">Â»</font> <span>åŸæ¥å¤§å­¦æˆ‘ä¿©ä¸€ä¸ªå›¢é˜Ÿçš„~</span></li><li><a  target="_blank" href="http://web-tinker.com" target="_blank">æ¬¡ç¢³é…¸é’´</a> <font aria-hidden="true">Â»</font> <span>æ·±åº¦äº¤æµçš„ä¸€ä¸ªå¥½æœ‹å‹</span></li><li><a  target="_blank" href="http://imququ.com" target="_blank">å±ˆå±ˆ</a> <font aria-hidden="true">Â»</font> <span>è›è›åŒå­¦</span></li><li><a  target="_blank" href="http://www.ruanyifeng.com" target="_blank">é˜®ä¸€å³°</a> <font aria-hidden="true">Â»</font> <span>é˜®è€å¸ˆ</span></li><li><a href="/friends/">æ›´å¤šåˆ—è¡¨ <font aria-hidden="true">Â»</font></a></li></ul></div></div><div class="website-info" aria-hidden="true"><a class="page_editor" href="/admin/#/posts/cmd9nvp98000nqk9b4zi186s7" target="_blank">ğŸ™ˆ</a> <span>&copy;2013-2025 <small><a  target="_blank" href="https://www.miit.gov.cn/" about="_blank">æ¹˜ICPå¤‡14007107å·-1</a></small></span> æœ¬ç«™ç”± <a href="/">Barretæé–</a> çº¯æ‰‹å·¥æ‰“é€  | <a href="/about#contact">è”ç³»æ–¹å¼</a> <a  target="_blank" href="https://union.zhaodao.ai/#random" title="éšæœºè·³è½¬åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„ç½‘ç«™" target="_blank" class="zhidao_ai"><img src="https://img.alicdn.com/imgextra/i2/O1CN01VjiZUL1r0eXge4taM_!!6000000005569-55-tps-300-300.svg" width="20" height="20"></a></div></div></div></div></div><div class="tools-wrapper" tabindex="0" aria-hidden="true"><a class="gotop icon" href="#" title="å›åˆ°é¡¶éƒ¨">&#x2191;</a><a class="hash-to-comments icon" title="æˆ‘è¦è¯„è®º">&#x2121;</a></div><div class="fixerr" tabindex="0" aria-hidden="true">çº é”™æ¨¡å¼</div></body><script src="https://fastly.jsdelivr.net/gh/barretlee/blog@gh-pages/public/js/jquery.js"></script><script src="https://fastly.jsdelivr.net/gh/barretlee/blog@gh-pages/public/js/main.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-67248043-3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-67248043-3")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?3524fff9629f2c80f8ea5daa13e67003";var t=document.getElementsByTagName("script")[0];t.async=!0,t.parentNode.insertBefore(e,t)}()</script><script>window.onerror=function(o){window.console&&window.console.log&&window.console.log(o);try{$("#loadLayer").remove()}catch(o){}return!0}</script></html>